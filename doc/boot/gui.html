<!DOCTYPE html><html lang="en"><head><title>boot/gui</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="boot/gui"><meta name="groc-project-path" content="src/boot/gui.js"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path">src/boot/gui.js</div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><h1 id="gui">gui</h1></div></div></div><div class="segment"><div class="code"><div class="wrapper"><span class="kd">var</span> <span class="nx">gui</span> <span class="o">=</span> <span class="p">{</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Spiritual version. Hardcoded for now.
@todo Deprecate or generate buildtime.
@type {String}</p></div></div><div class="code"><div class="wrapper">  <span class="nx">version</span> <span class="o">:</span> <span class="s2">&quot;0.0.4&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>@constant
Native mode: Overloading native DOM methods and setters.</p></div></div><div class="code"><div class="wrapper">  <span class="nx">MODE_NATIVE</span> <span class="o">:</span> <span class="s2">&quot;native&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>@constant
jquery mode: Overloading JQuery DOM manipulation methods.</p></div></div><div class="code"><div class="wrapper">  <span class="nx">MODE_JQUERY</span> <span class="o">:</span> <span class="s2">&quot;jquery&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>@constant
Optimized mode: use native if supported, fallback on jquery.</p></div></div><div class="code"><div class="wrapper">  <span class="nx">MODE_OPTIMIZE</span> <span class="o">:</span> <span class="s2">&quot;optimize&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Global broadcasts
TODO : harmonize some naming with action types</p></div></div><div class="code"><div class="wrapper">  <span class="nx">BROADCAST_KICKSTART</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-kickstart&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_DOMCONTENT</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-document-domcontentloaded&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_ONLOAD</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-window-onload&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_UNLOAD</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-window-unload&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_WILL_SPIRITUALIZE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-will-spiritualize&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_DID_SPIRITUALIZE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-did-spiritualize&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_MOUSECLICK</span>  <span class="o">:</span> <span class="s2">&quot;gui-broadcast-mouseevent-click&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_MOUSEMOVE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-mouseevent-mousemove&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_MOUSEDOWN</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-mouseevent-mousedown&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_MOUSEUP</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-mouseevent-mouseup&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_SCROLL</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-window-scroll&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_RESIZE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-window-resize&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_RESIZE_END</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-window-resize-end&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_POPSTATE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-window-popstate&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_HASHCHANGE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-window-hashchange&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_LOADING_CHANNELS</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-loading-channels&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_CHANNELS_LOADED</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-channels-loaded&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_TWEEN</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-tween&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Plugin broadcast types
TODO : assign these via module system at some point</p></div></div><div class="code"><div class="wrapper">  <span class="nx">BROADCAST_ORIENTATIONCHANGE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-orientationchange&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_TOUCHSTART</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-touchstart&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_TOUCHEND</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-touchend&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_TOUCHCANCEL</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-touchcancel&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_TOUCHLEAVE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-touchleave&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_TOUCHMOVE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-touchmove&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_DRAG_START</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-drag-start&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_DRAG_END</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-drag-end&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_DRAG_DROP</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-drag-drop&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_COMMAND</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-command&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_OUTPUT</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-output&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_INPUT</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-input&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_DATA_PUB</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-data-pub&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_DATA_SUB</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-data-sub&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_SCRIPT_INVOKE</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-spiritscript-invoke&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_ATTENTION_ON</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-attention-on&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_ATTENTION_OFF</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-attention-off&quot;</span><span class="p">,</span>
  <span class="nx">BROADCAST_ATTENTION_GO</span> <span class="o">:</span> <span class="s2">&quot;gui-broadcast-attention-go&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Global actions</p></div></div><div class="code"><div class="wrapper">  <span class="nx">ACTION_DOCUMENT_CONSTRUCT</span> <span class="o">:</span> <span class="s2">&quot;gui-action-document-construct&quot;</span><span class="p">,</span>
  <span class="nx">ACTION_DOCUMENT_READY</span> <span class="o">:</span> <span class="s2">&quot;gui-action-document-ready&quot;</span><span class="p">,</span>
  <span class="nx">ACTION_DOCUMENT_ONLOAD</span> <span class="o">:</span> <span class="s2">&quot;gui-action-document-onload&quot;</span><span class="p">,</span>
  <span class="nx">ACTION_DOCUMENT_UNLOAD</span> <span class="o">:</span> <span class="s2">&quot;gui-action-document-unload&quot;</span><span class="p">,</span>
  <span class="nx">ACTION_DOCUMENT_FIT</span> <span class="o">:</span> <span class="s2">&quot;gui-action-document-fit&quot;</span><span class="p">,</span>
  <span class="nx">ACTION_DOCUMENT_DONE</span> <span class="o">:</span> <span class="s2">&quot;gui-action-document-done&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Local actions.</p></div></div><div class="code"><div class="wrapper">  <span class="nx">ACTION_WINDOW_LOADING</span> <span class="o">:</span> <span class="s2">&quot;gui-action-window-loading&quot;</span><span class="p">,</span>
  <span class="nx">ACTION_WINDOW_LOADED</span> <span class="o">:</span> <span class="s2">&quot;gui-action-window-loaded&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Questionable types (future)</p></div></div><div class="code"><div class="wrapper">  <span class="nx">ACTION_DRAG_START</span> <span class="o">:</span> <span class="s2">&quot;gui-action-drag-start&quot;</span><span class="p">,</span>
  <span class="nx">ACTION_COMMAND</span> <span class="o">:</span> <span class="s2">&quot;gui-action-command&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Crawler types</p></div></div><div class="code"><div class="wrapper">  <span class="nx">CRAWLER_ATTACH</span> <span class="o">:</span> <span class="s2">&quot;gui-crawler-attach&quot;</span><span class="p">,</span>
  <span class="nx">CRAWLER_DETACH</span> <span class="o">:</span> <span class="s2">&quot;gui-crawler-detach&quot;</span><span class="p">,</span>
  <span class="nx">CRAWLER_DISPOSE</span> <span class="o">:</span> <span class="s2">&quot;gui-crawler-dispose&quot;</span><span class="p">,</span>
  <span class="nx">CRAWLER_ACTION</span> <span class="o">:</span> <span class="s2">&quot;gui-crawler-action&quot;</span><span class="p">,</span>
  <span class="nx">CRAWLER_VISIBLE</span> <span class="o">:</span> <span class="s2">&quot;gui-crawler-visible&quot;</span><span class="p">,</span>
  <span class="nx">CRAWLER_INVISIBLE</span> <span class="o">:</span> <span class="s2">&quot;gui-crawler-invisible&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Tick types (timed events)</p></div></div><div class="code"><div class="wrapper">  <span class="nx">TICK_DESTRUCT_DETACHED</span> <span class="o">:</span> <span class="s2">&quot;gui-tick-destruct-detached&quot;</span><span class="p">,</span>
  <span class="nx">TICK_SCRIPT_UPDATE</span> <span class="o">:</span> <span class="s2">&quot;gui-tick-spiritscript-update&quot;</span><span class="p">,</span> <span class="c1">// @todo move to EDB</span>
  <span class="nx">TICK_COLLECT_INPUT</span> <span class="o">:</span> <span class="s2">&quot;gui-tick-collect-input&quot;</span><span class="p">,</span>
  <span class="nx">TICK_SPIRIT_NULL</span> <span class="o">:</span> <span class="s2">&quot;gui-tick-spirit-null&quot;</span><span class="p">,</span>
  <span class="nx">TICK_FIT</span> <span class="o">:</span> <span class="s2">&quot;gui-tick-fit&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>CSS classnames. Underscore indicates 
that the classname are managed by JS.</p></div></div><div class="code"><div class="wrapper">  <span class="nx">CLASS_INVISIBLE</span> <span class="o">:</span> <span class="s2">&quot;_gui-invisible&quot;</span><span class="p">,</span>
  <span class="nx">CLASS_HIDDEN</span> <span class="o">:</span> <span class="s2">&quot;_gui-hidden&quot;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Device orientation.
TODO : Get this out of here
@todo gui.Observerice or something</p></div></div><div class="code"><div class="wrapper">  <span class="nx">orientation</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">ORIENTATION_PORTRAIT</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">ORIENTATION_LANDSCAPE</span> <span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span></div></div></div></div></body></html>